dt = read.csv("Outbreak_240817.csv")
dt$country
plot(dt$longitude, dt$latitude)
View(dt)
library(dplyr)
?agg
library(lubridate)
library(scales)
require(splines)
?agg
library(plyr)
dt = read.csv("Outbreak_240817.csv")
plot(dt$longitude, dt$latitude)
library(plyr)
?agg
library(plyr)
agg_country = aggregate(sumCases ~ country + disease, data = dt, mean)
View(agg_country)
#Get a world map,
data(wrld_simpl)
par(mar = c(0,0,1,0),
pin = c(4,2),
pty = "m",
xaxs = "i",
xaxt = 'n',
xpd = FALSE,
yaxs = "i",
yaxt = 'n')
plot(wrld_simpl, col='dark green', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Disease Outbreaks")
data(wrld_simpl)
require(ggplot2)
data(wrld_simpl)
require(maps)
data(wrld_simpl)
data(wrld_simpl)
require(maptools)
require(plyr)
require(maptools)
require(maps)
require(ggplot2)
data(wrld_simpl)
par(mar = c(0,0,1,0),
pin = c(4,2),
pty = "m",
xaxs = "i",
xaxt = 'n',
xpd = FALSE,
yaxs = "i",
yaxt = 'n')
plot(wrld_simpl, col='dark green', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Disease Outbreaks")
plot(wrld_simpl, col='green', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Disease Outbreaks")
points(dt$longitude,dt$latitude, pch = 20, cex = 1, col=rgb(1, 1, 0.5, 0.5)) #Plot the ship's previous locations
points(dt$longitude,dt$latitude, pch = 20, cex = 1, col=dt$disease
points(Endeavour$Lon3[i],Endeavour$Lat3[i], pch = 21, cex = Endeavour$Total_Distance[i]/5541, col = "black", bg = Endeavour$Col[i]) #Plot the ship location
plot(wrld_simpl, col='green', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Disease Outbreaks")
points(dt$longitude,dt$latitude, pch = 20, cex = 1, col=dt$disease)
View(agg_country)
plot(agg_country)
plot(agg_country$sumCases)
plot(agg_country$disease, agg_country$sumCases)
View(agg_country)
plot(agg_country$disease, agg_country$sumCases, outline = F)
dev.off()
boxplot(agg_country$disease, agg_country$sumCases, outline = F)
boxplot(agg_country$disease, agg_country$sumCases, outline = F)
agg_country$disease
plot(agg_country$disease, agg_country$sumCases, outline = F)
agg_country = agg_country[order(-agg_country$sumCases),]
plot(agg_country$disease, agg_country$sumCases, outline = F)
View(agg_country)
plot(agg_country$disease, agg_country$sumCases, outline = F, las = 2)
agg_country = aggregate(sumDeaths ~ country + disease, data = dt, mean)
agg_country = agg_country[order(-agg_country$sumDeaths),]
plot(agg_country$disease, agg_country$sumCases, outline = F, las = 2)
View(agg_country)
agg_country = aggregate(sumDeaths ~ disease, data = dt, mean)
View(agg_country)
agg_country = agg_country[order(-agg_country$sumDeaths),]
View(agg_country)
boxplot(agg_country$disease, agg_country$sumCases, outline = F, las = 2)
boxplot(agg_country$disease, agg_country$sumDeaths, outline = F, las = 2)
plot(agg_country$disease, agg_country$sumDeaths, outline = F, las = 2)
View(agg_country)
barplot(agg_country$disease, agg_country$sumDeaths, las = 2)
barplot(agg_country$disease ~ agg_country$sumDeaths, las = 2)
barplot(agg_country$sumDeaths ~ agg_country$disease, las = 2)
barplot(agg_country$sumDeaths, las = 2)
?barplot
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
par(mar = c(0,0,1,0))
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
par(mar = c(4,4,4,4))
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
par(mar = c(6,1,1,1))
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
par(mar = c(6,2,3,3))
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
par(mar = c(6,3,3,3))
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
par(mar = c(6,4,4,4))
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
par(mar = c(8,4,4,4))
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
par(mar = c(12,4,4,4))
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
par(mar = c(15,4,4,4))
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
par(mar = c(18,4,4,4))
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
par(mar = c(20,4,4,4))
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
par(mar = c(20,4,0.1,4))
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
par(mar = c(20,4,0.5,4))
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
agg_country = aggregate(sumDeaths ~ disease + country, data = dt, mean)
warnings()
agg_country = aggregate(sumDeaths ~ disease, data = dt, mean)
agg_country = agg_country[order(-agg_country$sumDeaths),]
View(agg_country)
agg_country = aggregate(sumDeaths ~ disease + country, data = dt, mean)
agg_country = agg_country[order(-agg_country$sumDeaths),]
View(agg_country)
dt$observationDate
dt$reportingDate
dt$reportingDate = as.character(dt$reportingDate)
dt$reportingDate = as.POSIXct(dt$reportingDate, format =)
dt = read.csv("Outbreak_240817.csv")
dt$reportingDate = as.character(dt$reportingDate)
dt$reportingDate = as.POSIXct(dt$reportingDate, format = "%d/%m/%Y")
agg_country = aggregate(sumDeaths ~ disease + country, data = dt, mean)
agg_country = agg_country[order(-agg_country$sumDeaths),]
require(lubridate)
year(dt$reportingDate)
dt$Year = year(dt$reportingDate)
dt$Month = month(dt$reportingDate)
agg_country = aggregate(sumDeaths ~ disease + country + Year + Month, data = dt, mean)
agg_country = agg_country[order(-agg_country$sumDeaths),]
View(agg_country)
View(dt)
View(dt)
temp = dt[dt$Year == 2016 & dt$Month == 6,]
View(temp)
temp = dt[dt$Year == 2016 & dt$Month == 6 & dt$country == 'Nigeria',]
View(temp)
View(agg_country)
require(plyr)
require(maptools)
require(maps)
require(ggplot2)
require(lubridate)
dt = read.csv("Outbreak_240817.csv")
dt$reportingDate = as.character(dt$reportingDate)
dt$reportingDate = as.POSIXct(dt$reportingDate, format = "%d/%m/%Y")
dt$Year = year(dt$reportingDate)
dt$Month = month(dt$reportingDate)
temp = dt[dt$Year == 2016 & dt$Month == 6 & dt$country == 'Nigeria',]
View(temp)
View(dt)
agg_country = aggregate(sumDeaths ~ disease + country + Year + Month, data = dt, mean)
agg_country = agg_country[order(-agg_country$sumDeaths),]
View(agg_country)
View(agg_country)
View(agg_country)
View(temp)
View(agg_country)
temp = dt[dt$Year == 2016 & dt$Month == 6 & dt$country == 'Nigeria' & dt$disease == 'Influenza - Avian',]
temp
agg_country = aggregate(sumDeaths ~ disease + country + Year + Month, data = dt, mean)
View(agg_country)
temp = dt[dt$Year == 2016 & dt$Month == 6 & dt$country == 'Niger' & dt$disease == 'Influenza - Avian',]
View(temp)
agg_country = aggregate(sumDeaths ~ disease + country + Year + Month, data = dt, mean)
agg_country = agg_country[order(-agg_country$sumDeaths),]
View(agg_country)
#Get a world map,
data(wrld_simpl)
par(mar = c(0,0,1,0),
pin = c(4,2),
pty = "m",
xaxs = "i",
xaxt = 'n',
xpd = FALSE,
yaxs = "i",
yaxt = 'n')
plot(wrld_simpl, col='green', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Disease Outbreaks")
points(dt$longitude,dt$latitude, pch = 20, cex = 1, col=dt$disease)
View(agg_country)
bird = dt[dt$disease == 'Influenza - Avian',]
plot(wrld_simpl, col='green', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Disease Outbreaks")
points(bird$longitude,bird$latitude, pch = 20, cex = 1, col='blue')
View(bird)
bird = bird[order(bird$reportingDate),]
View(bird)
plot(wrld_simpl, col='darkolivegreen2', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Disease Outbreaks")
i=1
saveGIF(while (i <= length(bird$Id)) {
plot(wrld_simpl, col='darkolivegreen2', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Disease Outbreaks")
points(bird$longitude[1:i],bird$latitude[1:i], pch = 20, cex = 1, col='red')
i = i+100
}, movie.name = "birdflu.gif", interval = 0.25, convert = "convert", ani.width = 800,
ani.height = 800)
require(animation)
i=1
saveGIF(while (i <= length(bird$Id)) {
plot(wrld_simpl, col='darkolivegreen2', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Disease Outbreaks")
points(bird$longitude[1:i],bird$latitude[1:i], pch = 20, cex = 1, col='red')
i = i+100
}, movie.name = "birdflu.gif", interval = 0.25, convert = "convert", ani.width = 800,
ani.height = 800)
par(mar = c(0,0,1,0),
pin = c(4,2),
pty = "m",
xaxs = "i",
xaxt = 'n',
xpd = FALSE,
yaxs = "i",
yaxt = 'n')
plot(wrld_simpl, col='green', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Disease Outbreaks")
text(-156.621094,-38.373819, paste("Date: ", bird$reportingDate[i]))
i=1
saveGIF(while (i <= length(bird$Id)) {
plot(wrld_simpl, col='darkolivegreen2', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Birdflu Outbreaks")
points(bird$longitude[1:i],bird$latitude[1:i], pch = 20, cex = 1, col='red')
text(-156.621094,-38.373819, paste("Date: ", bird$reportingDate[i]))
i = i+10
}, movie.name = "birdflu.gif", interval = 0.25, convert = "convert", ani.width = 800,
ani.height = 800)
i=1
saveGIF(while (i <= length(bird$Id)) {
plot(wrld_simpl, col='darkolivegreen2', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Birdflu Outbreaks")
points(bird$longitude[1:i],bird$latitude[1:i], pch = 20, cex = 1, col='red')
text(-156.621094,-38.373819, paste("Date: ", bird$reportingDate[i]))
i = i+30
}, movie.name = "birdflu.gif", interval = 0.25, convert = "convert", ani.width = 800,
ani.height = 800)
points(bird$longitude[1:i],bird$latitude[1:i], pch = 20, cex = 1, bg = 'red', col='black')
points(bird$longitude[1:i],bird$latitude[1:i], pch = 16, cex = 1, bg = 'red', col='black')
points(bird$longitude[1:i],bird$latitude[1:i], pch = 21, cex = 1, bg = 'red', col='black')
plot(wrld_simpl, col='darkolivegreen2', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Birdflu Outbreaks")
points(bird$longitude[1:i],bird$latitude[1:i], pch = 21, cex = 1, bg = 'red', col='black')
i=1
saveGIF(while (i <= length(bird$Id)) {
plot(wrld_simpl, col='darkolivegreen2', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Birdflu Outbreaks")
points(bird$longitude[1:i],bird$latitude[1:i], pch = 21, cex = 1, bg = 'red', col='black')
text(-156.621094,-38.373819, paste("Date: ", bird$reportingDate[i]))
i = i+50
}, movie.name = "birdflu.gif", interval = 0.25, convert = "convert", ani.width = 800,
ani.height = 800)
dev.off()
i=1
saveGIF(while (i <= length(bird$Id)) {
plot(wrld_simpl, col='darkolivegreen2', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Birdflu Outbreaks")
points(bird$longitude[1:i],bird$latitude[1:i], pch = 21, cex = 1, bg = 'red', col='black')
text(-156.621094,-38.373819, paste("Date: ", bird$reportingDate[i]))
i = i+50
}, movie.name = "birdflu.gif", interval = 0.25, convert = "convert", ani.width = 800,
ani.height = 800)
require(ggplot2); theme_set(theme_bw())
wrld_simpl_df = fortify(wrld_simpl)
ggplot(wrld_simpl_df, aes(x = long, y = lat, group = group)) +
geom_path() + coord_equal()
wrld_simpl_df = fortify(wrld_simpl)
ggplot(wrld_simpl_df, aes(x = long, y = lat, group = group)) +
geom_path() + coord_equal() +
geom_point(bird$longitude[1:i],bird$latitude[1:i])
wrld_simpl_df = fortify(wrld_simpl)
ggplot(wrld_simpl_df, aes(x = long, y = lat, group = group)) +
geom_path() + coord_equal() +
geom_point(aes(bird$longitude[1:i],bird$latitude[1:i]))
wrld_simpl_df = fortify(wrld_simpl)
ggplot(wrld_simpl_df, aes(x = long, y = lat, group = group)) +
geom_path() + coord_equal() +
geom_point(data = bird[1:i], aes(x=longitude,y=latitude))
ggplot(wrld_simpl_df, aes(x = long, y = lat, group = group)) +
geom_path() + coord_equal() +
geom_point(data = bird[1:i,], aes(x=longitude,y=latitude))
ggplot(wrld_simpl_df, aes(x = long, y = lat, group = group))
ggplot(wrld_simpl_df, aes(x = long, y = lat, group = group)) +
geom_path() + coord_equal()
wrld_simpl_df = fortify(wrld_simpl)
ggplot(wrld_simpl_df, aes(x = long, y = lat, group = group)) +
geom_path() + coord_equal() +
geom_point(data = bird[1:i,], aes(x=longitude,y=latitude))
wrld_simpl_df = fortify(wrld_simpl)
ggplot(data = wrld_simpl_df, aes(x = long, y = lat, group = group)) +
geom_path() + coord_equal() +
geom_point(data = bird[1:i,], aes(x=longitude,y=latitude))
wrld_simpl_df = fortify(wrld_simpl)
ggplot(data = wrld_simpl_df, aes(x = long, y = lat, group = group)) +
geom_path() + coord_equal() +
geom_point(data = bird, aes(x=longitude,y=latitude))
wrld_simpl_df = fortify(wrld_simpl)
ggplot(data = wrld_simpl_df, aes(x = long, y = lat, group = group)) +
geom_path() +
geom_point(data = bird, aes(x=longitude,y=latitude))
wrld_simpl_df
View(wrld_simpl_df)
ggplot(data = wrld_simpl_df, aes(x = long, y = lat, group = group)) +
geom_path() +
geom_point(aes(x=longitude,y=latitude), data = bird)
ggplot(data = wrld_simpl_df, aes(x = long, y = lat, group = group)) +
geom_path() +
geom_point(aes(x=bird$longitude,y=bird$latitude))
bbox = cbind(c(179,179,-179,-179,179), c(89,-89,-89,89,89))
par(mar = c(0,0,0,0),
pin = c(4,2),
pty = "m",
xaxs = "i",
xaxt = 'n',
xpd = FALSE,
yaxs = "i",
yaxt = 'n')
plot(wrld_simpl, col='grey', bg='white', border=NA, ann=FALSE, axes = FALSE)
i=1
saveGIF(while (i <= length(bird$Id)) {
plot(wrld_simpl, col='darkolivegreen2', bg='white', border='black', border=NA, ann=FALSE, axes = FALSE, main = "Birdflu Outbreaks")
points(bird$longitude[1:i],bird$latitude[1:i], pch = 21, cex = 1, bg = 'red', col='black')
text(-156.621094,-38.373819, paste("Date: ", bird$reportingDate[i]))
i = i+50
}, movie.name = "birdflu.gif", interval = 0.25, convert = "convert", ani.width = 800,
ani.height = 800)
i=1
saveGIF(while (i <= length(bird$Id)) {
plot(wrld_simpl, col='darkolivegreen2', bg='white', border=NA, ann=FALSE, axes = FALSE, main = "Birdflu Outbreaks")
points(bird$longitude[1:i],bird$latitude[1:i], pch = 21, cex = 1, bg = 'red', col='black')
text(-156.621094,-38.373819, paste("Date: ", bird$reportingDate[i]))
i = i+50
}, movie.name = "birdflu.gif", interval = 0.25, convert = "convert", ani.width = 800,
ani.height = 800)
i=1
saveGIF(while (i <= length(bird$Id)) {
plot(wrld_simpl, col='darkolivegreen2', bg='white', border='grey', ann=FALSE, axes = FALSE, main = "Birdflu Outbreaks")
points(bird$longitude[1:i],bird$latitude[1:i], pch = 21, cex = 1, bg = 'red', col='black')
text(-156.621094,-38.373819, paste("Date: ", bird$reportingDate[i]))
i = i+60
}, movie.name = "birdflu.gif", interval = 0.25, convert = "convert", ani.width = 800,
ani.height = 800)
require(plyr)
require(maptools)
require(maps)
require(ggplot2)
require(lubridate)
require(animation)
dt = read.csv("Outbreak_240817.csv")
#plot(dt$longitude, dt$latitude)
dt$reportingDate = as.character(dt$reportingDate)
dt$reportingDate = as.POSIXct(dt$reportingDate, format = "%d/%m/%Y")
dt$Year = year(dt$reportingDate)
dt$Month = month(dt$reportingDate)
#temp = dt[dt$Year == 2016 & dt$Month == 6 & dt$country == 'Niger' & dt$disease == 'Influenza - Avian',]
agg_country = aggregate(sumDeaths ~ disease + country + Year + Month, data = dt, mean)
agg_country = agg_country[order(-agg_country$sumDeaths),]
agg_country = aggregate(sumDeaths ~ disease, data = dt, mean)
agg_country = agg_country[order(-agg_country$sumDeaths),]
par(mar = c(20,4,0.5,4))
barplot(agg_country$sumDeaths, names.arg = agg_country$disease, las = 2)
bird = dt[dt$disease == 'Influenza - Avian',]
bird = bird[order(bird$reportingDate),]
#Get a world map,
data(wrld_simpl)
par(mar = c(0,0,1,0),
pin = c(4,2),
pty = "m",
xaxs = "i",
xaxt = 'n',
xpd = FALSE,
yaxs = "i",
yaxt = 'n')
plot(wrld_simpl, col='green', bg='white', border='black', ann=FALSE, axes = FALSE, main = "Disease Outbreaks")
points(bird$longitude,bird$latitude, pch = 20, cex = 1, col='blue')
#dev.off()
bbox = cbind(c(179,179,-179,-179,179), c(89,-89,-89,89,89))
par(mar = c(0,0,0,0),
pin = c(4,2),
pty = "m",
xaxs = "i",
xaxt = 'n',
xpd = FALSE,
yaxs = "i",
yaxt = 'n')
#plot(wrld_simpl, col='grey', bg='white', border=NA, ann=FALSE, axes = FALSE)
i=1
saveGIF(while (i <= length(bird$Id)) {
plot(wrld_simpl, col='darkolivegreen2', bg='white', border='grey', ann=FALSE, axes = FALSE, main = "Birdflu Outbreaks")
points(bird$longitude[1:i],bird$latitude[1:i], pch = 21, cex = 1, bg = 'red', col='black')
text(-156.621094,-38.373819, paste("Date: ", bird$reportingDate[i]))
i = i+60
}, movie.name = "birdflu.gif", interval = 0.25, convert = "convert", ani.width = 800,
ani.height = 800)
