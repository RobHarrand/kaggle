{
    "contents" : "library('stringr')\nlibrary('readr')\nlibrary('wordcloud')\nlibrary('tm')\nlibrary('SnowballC')\nlibrary('RWeka')\nlibrary('RSentiment')\n\nbible = read_lines('pg10.txt')\nquran = read_lines('pg2800.txt')\nbuddha = read_lines('35895-0.txt')\nmormon = read_lines('pg17.txt')\nmeditations = read_lines('pg2680.txt')\n\n\n#Bible\n\nprop = 0.3 #Need a sample as the file it too big on its own\nset.seed(100)\n\nbible_sample = sample(bible, (length(bible)*prop))\ncorpus = Corpus(VectorSource(list(bible_sample)))\ncorpus = tm_map(corpus, removePunctuation)\ncorpus = tm_map(corpus, content_transformer(tolower))\ncorpus = tm_map(corpus, removeNumbers) \ncorpus = tm_map(corpus, stripWhitespace)\ncorpus = tm_map(corpus, removeWords, stopwords('english'))\n\ndtm_bible = DocumentTermMatrix(VCorpus(VectorSource(corpus[[1]]$content)))\nfreq_bible <- colSums(as.matrix(dtm_bible))\n\n\n#Quran\n\nprop = 1\nset.seed(100)\nquran_sample = sample(quran, (length(quran)*prop))\ncorpus = Corpus(VectorSource(list(quran_sample)))\ncorpus = tm_map(corpus, removePunctuation)\ncorpus = tm_map(corpus, content_transformer(tolower))\ncorpus = tm_map(corpus, removeNumbers) \ncorpus = tm_map(corpus, stripWhitespace)\ncorpus = tm_map(corpus, removeWords, stopwords('english'))\n\ndtm_quran = DocumentTermMatrix(VCorpus(VectorSource(corpus[[1]]$content)))\nfreq_quran <- colSums(as.matrix(dtm_quran))\n\n\n\n#Buddha\n\nprop = 1\nset.seed(100)\n\nbuddha_sample = sample(buddha, (length(buddha)*prop))\ncorpus = Corpus(VectorSource(list(buddha_sample)))\ncorpus = tm_map(corpus, removePunctuation)\ncorpus = tm_map(corpus, content_transformer(tolower))\ncorpus = tm_map(corpus, removeNumbers) \ncorpus = tm_map(corpus, stripWhitespace)\ncorpus = tm_map(corpus, removeWords, stopwords('english'))\n\ndtm_buddha = DocumentTermMatrix(VCorpus(VectorSource(corpus[[1]]$content)))\nfreq_buddha <- colSums(as.matrix(dtm_buddha))\n\n\n#Mormon\n\nprop = 1\nset.seed(100)\n\nmormon_sample = sample(meditations, (length(mormon)*prop))\ncorpus = Corpus(VectorSource(list(mormon_sample)))\ncorpus = tm_map(corpus, removePunctuation)\ncorpus = tm_map(corpus, content_transformer(tolower))\ncorpus = tm_map(corpus, removeNumbers) \ncorpus = tm_map(corpus, stripWhitespace)\ncorpus = tm_map(corpus, removeWords, stopwords('english'))\n\ndtm_mormon = DocumentTermMatrix(VCorpus(VectorSource(corpus[[1]]$content)))\nfreq_mormon <- colSums(as.matrix(dtm_mormon))\n                       \n                       \n                       \n\n#Meditations\n\nprop = 1\nset.seed(100)\n\nmeditations_sample = sample(meditations, (length(meditations)*prop))\ncorpus = Corpus(VectorSource(list(meditations_sample)))\ncorpus = tm_map(corpus, removePunctuation)\ncorpus = tm_map(corpus, content_transformer(tolower))\ncorpus = tm_map(corpus, removeNumbers) \ncorpus = tm_map(corpus, stripWhitespace)\ncorpus = tm_map(corpus, removeWords, stopwords('english'))\n\ndtm_meditations = DocumentTermMatrix(VCorpus(VectorSource(corpus[[1]]$content)))\nfreq_meditations <- colSums(as.matrix(dtm_meditations))\n\n\n\n#Remove obsolete data\n\nrm(bible)\nrm(quran)\nrm(buddha)\nrm(mormon)\nrm(meditations)\nrm(bible_sample)\nrm(quran_sample)\nrm(buddha_sample)\nrm(mormon_sample)\nrm(meditations_sample)\nrm(corpus)\n\n\n\n#Sentiment\n\n\n\n# i=1\n# s = vector()\n# \n# while (i<=1000) {\n# \n#     s[i] = calculate_sentiment(corpus[[1]]$content[i])[\"sentiment\"]\n#     i=i+1\n#     \n# }\n# \n# barplot(s)\n    \n\n\n#Bible sentiments\n\nsentiments_bible = calculate_sentiment(names(freq_bible))\nsentiments_bible = cbind(sentiments_bible, as.data.frame(freq_bible))\n\nsent_pos_bible = sentiments_bible[sentiments_bible$sentiment == 'Positive',]\nsent_neg_bible = sentiments_bible[sentiments_bible$sentiment == 'Negative',]\n\n\n\n#Quran sentiments\n\nsentiments_quran = calculate_sentiment(names(freq_quran))\nsentiments_quran = cbind(sentiments_quran, as.data.frame(freq_quran))\n\nsent_pos_quran = sentiments_quran[sentiments_quran$sentiment == 'Positive',]\nsent_neg_quran = sentiments_quran[sentiments_quran$sentiment == 'Negative',]\n\n\n\n\n#Mormon sentiments\n\nsentiments_mormon = calculate_sentiment(names(freq_mormon))\nsentiments_mormon = cbind(sentiments_mormon, as.data.frame(freq_mormon))\n\nsent_pos_mormon = sentiments_mormon[sentiments_mormon$sentiment == 'Positive',]\nsent_neg_mormon = sentiments_mormon[sentiments_mormon$sentiment == 'Negative',]\n\n\n\n\n#Buddha sentiments\n\nsentiments_buddha = calculate_sentiment(names(freq_buddha))\nsentiments_buddha = cbind(sentiments_buddha, as.data.frame(freq_buddha))\n\nsent_pos_buddha = sentiments_buddha[sentiments_buddha$sentiment == 'Positive',]\nsent_neg_buddha = sentiments_buddha[sentiments_buddha$sentiment == 'Negative',]\n\n\n\n\n#Meditations sentiments\n\nsentiments_meditations = calculate_sentiment(names(freq_meditations))\nsentiments_meditations = cbind(sentiments_meditations, as.data.frame(freq_meditations))\n\nsent_pos_meditations = sentiments_meditations[sentiments_meditations$sentiment == 'Positive',]\n\nsent_neg_meditations = sentiments_meditations[sentiments_meditations$sentiment == 'Negative',]\n\n\n\n\nlayout(matrix(c(1, 2), nrow=2), heights=c(1, 4))\npar(mar=rep(0, 4))\n\nplot.new()\ntext(x=0.5, y=0.5, \"Bible: Positive\")\nset.seed(100)\nwordcloud(sent_pos_bible$text,sent_pos_bible$freq, min.freq=20,colors=brewer.pal(6,\"Dark2\"))\n\nplot.new()\ntext(x=0.5, y=0.5, \"Bible: Negative\")\nset.seed(100)\nwordcloud(sent_neg_bible$text,sent_neg_bible$freq, min.freq=20,colors=brewer.pal(6,\"Dark2\"))\n\n\n\nlayout(matrix(c(1, 2), nrow=2), heights=c(1, 4))\npar(mar=rep(0, 4))\n\nplot.new()\ntext(x=0.5, y=0.5, \"Quran: Positive\")\nset.seed(100)\nwordcloud(sent_pos_quran$text,sent_pos_quran$freq, min.freq=10,colors=brewer.pal(6,\"Dark2\"))\n\nplot.new()\ntext(x=0.5, y=0.5, \"Quran: Negative\")\nset.seed(100)\nwordcloud(sent_neg_quran$text,sent_neg_quran$freq, min.freq=20,colors=brewer.pal(6,\"Dark2\"))\n\n\n\nlayout(matrix(c(1, 2), nrow=2), heights=c(1, 4))\npar(mar=rep(0, 4))\n\nplot.new()\ntext(x=0.5, y=0.5, \"Book of Mormon: Positive\")\nset.seed(100)\nwordcloud(sent_pos_mormon$text,sent_pos_mormon$freq, min.freq=10,colors=brewer.pal(6,\"Dark2\"))\n\nplot.new()\ntext(x=0.5, y=0.5, \"Book of Mormon: Negative\")\nset.seed(100)\nwordcloud(sent_neg_mormon$text,sent_neg_mormon$freq, min.freq=10,colors=brewer.pal(6,\"Dark2\"))\n\n\nlayout(matrix(c(1, 2), nrow=2), heights=c(1, 4))\npar(mar=rep(0, 4))\n\nplot.new()\ntext(x=0.5, y=0.5, \"The Gospel of Buddha: Positive\")\nset.seed(100)\nwordcloud(sent_pos_buddha$text,sent_pos_buddha$freq, min.freq=10,colors=brewer.pal(6,\"Dark2\"))\n\nplot.new()\ntext(x=0.5, y=0.5, \"The Gospel of Buddha: Negative\")\nset.seed(100)\nwordcloud(sent_neg_buddha$text,sent_neg_buddha$freq, min.freq=10,colors=brewer.pal(6,\"Dark2\"))\n\n\nlayout(matrix(c(1, 2), nrow=2), heights=c(1, 4))\npar(mar=rep(0, 4))\n\nplot.new()\ntext(x=0.5, y=0.5, \"Meditations: Positive\")\nset.seed(100)\nwordcloud(sent_pos_meditations$text,sent_pos_meditations$freq, min.freq=10,colors=brewer.pal(6,\"Dark2\"))\n\nplot.new()\ntext(x=0.5, y=0.5, \"Meditations: Negative\")\nset.seed(100)\nwordcloud(sent_neg_meditations$text,sent_neg_meditations$freq, min.freq=10,colors=brewer.pal(6,\"Dark2\"))\n",
    "created" : 1473078563947.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3214719730",
    "id" : "1DDDC5A9",
    "lastKnownWriteTime" : 1473255292,
    "path" : "C:/Users/rob.harrand/Desktop/WORK/Kaggle/Bible/Bible.R",
    "project_path" : "Bible.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "type" : "r_source"
}