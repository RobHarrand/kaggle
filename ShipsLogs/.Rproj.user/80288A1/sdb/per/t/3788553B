{
    "contents" : "#Load libraries,\nrequire(maptools)\nrequire(animation) \n\n#Load data,\ndata = read.csv(\"data\\\\CLIWOC15.csv\", header = T) #Load the data\n\nEndeavour = data[grep(\"Endeavour\", data$ShipName),] #Create an Endeavour only version\nrm(data) #Remove the starting data\n\nexc = (is.na(Endeavour$Lat3) | is.na(Endeavour$Lon3) | is.na(Endeavour$Distance)) #Delete rows with missing long, lat or distance\nEndeavour = Endeavour[!exc,]\n\nEndeavour = Endeavour[with(Endeavour, order(UTC)),] #Order by date\n\n#Capitalise the ship's logs (currently not using),\n# Endeavour$Clearness = as.character(Endeavour$Clearness)\n# Endeavour$Clearness = paste0(toupper(substr(Endeavour$Clearness, 1, 1)), substr(Endeavour$Clearness, 2, nchar(Endeavour$Clearness)))\n\n# Endeavour$PrecipitationDescriptor = as.character(Endeavour$PrecipitationDescriptor)\n# Endeavour$PrecipitationDescriptor = paste0(toupper(substr(Endeavour$PrecipitationDescriptor, 1, 1)), substr(Endeavour$PrecipitationDescriptor, 2, nchar(Endeavour$PrecipitationDescriptor)))\n\n#Get a world map,\ndata(wrld_simpl)\n\npar(mar = c(0,0,1,0),\n    pin = c(4,2),\n    pty = \"m\",\n    xaxs = \"i\",\n    xaxt = 'n',\n    xpd = FALSE,\n    yaxs = \"i\",\n    yaxt = 'n')\n\ni = 1\n\n#Set a weather column,\nEndeavour$Col = \"white\"\nEndeavour$Col[grep(\"rain|showers\", Endeavour$PrecipitationDescriptor)] = 'blue'\nEndeavour$Col[grep(\"fine|pleasant|fair|clear\", Endeavour$Clearness)] = 'light blue'\nEndeavour$Col[grep(\"cloudy|hazy\", Endeavour$Clearness)] = 'grey'\n\n#Work out the total distance,\nEndeavour$Total_Distance = cumsum(Endeavour$Distance)\n\n#Loop through the rows and save the gif...\n\nsaveGIF(while (i < length(Endeavour$Lat3+1)) {\n    \n    plot(wrld_simpl, col='dark green', bg='white', border='black', ann=FALSE, axes = FALSE, main = \"The first voyage of James Cook (HMS Endeavour)\")\n    \n        for (x in seq(0:i)) {\n            points(Endeavour$Lon3[x],Endeavour$Lat3[x], pch = 20, cex = 1, col=rgb(1, 1, 0.5, 0.5)) #Plot the ship's previous locations\n        }\n    \n        points(Endeavour$Lon3[i],Endeavour$Lat3[i], pch = 21, cex = Endeavour$Total_Distance[i]/5541, col = \"black\", bg = Endeavour$Col[i]) #Plot the ship location\n    \n    #Plot some text,\n        text(-125,110, \"Spot Size = Total distance\", col = \"black\", cex = 0.9, font = 2)\n        text(125,110, \"Colour = Day's weather\", col = \"black\", cex = 0.9, font = 2)\n        \n        points(85, 100, pch = 21, cex = 2, col = \"black\", bg = \"grey\")\n        text(100, 101, \" - cloud \", col = \"black\", cex = 0.8, font = 2)\n        \n        points(115, 100, pch = 21, cex = 2, col = \"black\", bg = \"blue\")\n        text(129, 101, \" - rain \", col = \"black\", cex = 0.8, font = 2)\n        \n        points(85, 92, pch = 21, cex = 2, col = \"black\", bg = \"light blue\")\n        text(98, 93, \" - fine \", col = \"black\", cex = 0.8, font = 2)\n        \n        points(115, 92, pch = 21, cex = 2, col = \"black\")\n        text(142, 93, \" - not recorded \", col = \"black\", cex = 0.8, font = 2)\n        \n        #text(-110,103, \"Ship's log: \", col = \"black\", cex = 1, font = 2)\n        text(0, 110, paste(\"Date: \", Endeavour$Day[i],\"/\",Endeavour$Month[i],\"/\",Endeavour$Year[i]), col = \"black\", cex = 1, font = 2)\n        #text(0, 100, Endeavour$Clearness[i], col = \"red\", cex = 1, font = 2)\n        #text(0, 90, Endeavour$AllWindForces[i], col = \"red\", cex = 1, font = 2)\n        #text(0, 90, Endeavour$PrecipitationDescriptor[i], col = \"red\", cex = 1, font = 2)\n\n    #Wipe the text,\n    #rect(-160,85,160,119, col = \"light blue\", border = NA)\n    \n    i = i+1\n    \n    }, movie.name = \"Endeavour.gif\", interval = 0.25, convert = \"convert\", ani.width = 800, \n    ani.height = 800)",
    "created" : 1453712013849.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3932619120",
    "id" : "3788553B",
    "lastKnownWriteTime" : 1453989502,
    "path" : "C:/Users/rob.harrand/Desktop/WORK/Kaggle/ShipsLogs/ShipsLogs.R",
    "project_path" : "ShipsLogs.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}